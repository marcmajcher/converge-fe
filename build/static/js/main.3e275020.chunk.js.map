{"version":3,"sources":["components/loginButton.js","actions.js","components/navBar.js","components/pages/countdownPage.js","components/pages/gamePage.js","hooks/useEmitter.js","components/pages/joinGamePage.js","components/pages/loginPage.js","components/userInfo.js","components/pages/userPage.js","components/pages/mainPage.js","components/pages/startGamePage.js","App.js","redux-store.js","index.js","hooks/useSocketSetup.js"],"names":["LoginButton","dispatch","useDispatch","appId","useSelector","s","endpoint","loggedIn","token","useEffect","axios","post","then","response","type","payload","data","catch","className","clientId","buttonText","onLogoutSuccess","onSuccess","res","info","tokenObj","id_token","userData","profileObj","userInfo","logInUser","err","console","error","onFailure","cookiePolicy","connect","store","props","href","src","imageUrl","alt","name","CountdownPage","count","countdown","to","GamePage","validMessages","useEmitter","socket","includes","emit","Error","JoinGamePage","useState","gameId","setGameId","emitJoinGame","value","onChange","e","target","onClick","LoginPage","process","UserInfo","givenName","UserPage","MainPage","StartGamePage","emitStartGame","AuthRoute","children","rest","render","location","pathname","state","from","defaultStore","undefined","createStore","action","localToken","localStorage","getItem","setItem","disconnect","ReactDOM","initSocket","on","message","setCountdown","msg","log","setSocket","useSocketSetup","io","query","JSON","stringify","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.3e275020.chunk.js","sourcesContent":["import { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport axios from 'axios';\nimport { logInUser, logOutUser, setUserInfo } from '../actions';\n\nexport default function LoginButton() {\n  const dispatch = useDispatch();\n  const appId = useSelector(s => s.appId);\n  const endpoint = useSelector(s => s.endpoint);\n  const loggedIn = useSelector(s => s.loggedIn);\n  const token = useSelector(s => s.token);\n\n  useEffect(() => {\n    if (token) {\n      axios\n        .post(`${endpoint}/users/verify`, { token })\n        .then(response => dispatch(setUserInfo(response.data)))\n        .catch(() => dispatch(logOutUser()));\n    } \n  }, [token]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  function handleLogin(info) {\n    axios\n      .post(`${endpoint}/users`, {\n        token: info.tokenObj.id_token,\n        userData: info.profileObj,\n      })\n      .then(res => dispatch(logInUser(info.profileObj, res.data.token)))\n      .catch(err => console.error(err));\n  }\n\n  return (\n    <>\n      <GoogleLogout\n        className={loggedIn ? '' : 'hidden'}\n        clientId={appId}\n        buttonText=\"Logout\"\n        onLogoutSuccess={() => dispatch(logOutUser())}\n      ></GoogleLogout>\n      <GoogleLogin\n        clientId={appId}\n        className={loggedIn ? 'hidden' : ''}\n        buttonText=\"Log In With Google\"\n        onSuccess={res => handleLogin(res)}\n        onFailure={res => console.error(`Login Error: ${res}`)}\n        cookiePolicy={'single_host_origin'}\n      />\n    </>\n  );\n}\n","export function checkToken() {\n  return { type: 'CHECK_TOKEN' };\n}\nexport function setSocket(socket) {\n  return { type: 'SET_SOCKET', payload: socket };\n}\nexport function setUserInfo(userInfo) {\n  return { type: 'SET_USER_INFO', payload: userInfo };\n}\nexport function logInUser(userInfo, token) {\n  return { type: 'LOG_IN', payload: { token, userInfo } };\n}\nexport function logOutUser() {\n  return { type: 'LOG_OUT', payload: false };\n}\nexport function setGameId(id) {\n  return { type: 'SET_GAME_ID', payload: id };\n}\nexport function setCountdown(count) {\n  return { type: 'SET_COUNTDOWN', payload: count };\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport GoogleLoginButton from './loginButton';\n\nfunction NavBar(props) {\n  return (\n    <header className=\"header\">\n      <div className=\"home-menu pure-menu pure-menu-horizontal pure-menu-fixed\">\n        <a className=\"pure-menu-heading\" href=\"/\">\n          Converge\n        </a>\n        <ul className=\"pure-menu-list\">\n          {/* <li className=\"pure-menu-item\">\n            <a href=\"/\" className=\"pure-menu-link\">\n              About\n            </a>\n          </li> */}\n          {props.userInfo && (\n            <li className=\"pure-menu-item\">\n              <img\n                className=\"user-image\"\n                src={props.userInfo.imageUrl}\n                alt={props.userInfo.name}\n              />\n            </li>\n          )}\n          <li className=\"pure-menu-item\">\n            <GoogleLoginButton loggedIn={props.userInfo}></GoogleLoginButton>\n          </li>\n        </ul>\n      </div>\n    </header>\n  );\n}\n\nexport default connect(store => store)(NavBar);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nexport default function CountdownPage() {\n  const count = useSelector(s => s.countdown);\n\n  return count > 0 ? (\n    <div>\n      <h1>COUNTDOWN</h1>\n      <h2>Game starts in: {count}</h2>\n    </div>\n  ) : (\n    <Redirect to=\"/game\"></Redirect>\n  );\n}\n","import React from 'react';\n\nexport default function GamePage() {\n\n  return <h1>GAME ON</h1>\n}","import { useSelector } from 'react-redux';\n\nconst validMessages = ['joinGame', 'startNewGame'];\n\nexport default function useEmitter(type) {\n  const socket = useSelector(s => s.socket);\n  if (socket) {\n    if (validMessages.includes(type)) {\n      return data => {\n        socket.emit(type, data);\n      };\n    }\n    throw new Error(`Invalid socket message type: ${type}`);\n  }\n}\n","import React from 'react';\nimport { useState } from 'react';\nimport useEmitter from '../../hooks/useEmitter';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nexport default function JoinGamePage() {\n  const [gameId, setGameId] = useState('');\n  const emitJoinGame = useEmitter('joinGame');\n  const countdown = useSelector(s => s.countdown);\n\n  function onBeginGame() {\n    emitJoinGame(gameId);\n  }\n  function onGameIdChange(e) {\n    setGameId(e.target.value);\n  }\n\n  return countdown ? (\n    <Redirect to=\"/cd\"></Redirect>\n  ) : (\n    <div>\n      <h1>JOIN GAME</h1>\n      Game ID: <input value={gameId} onChange={onGameIdChange}></input>\n      <button onClick={onBeginGame}>Begin!</button>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nexport default function LoginPage() {\n  const loggedIn = useSelector(s => s.loggedIn);\n  const endpoint = useSelector(s => s.endpoint);\n\n  return loggedIn ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <div>\n      <h1>LOG IN -----> over there</h1>\n      <h2>ENV: {process.env.NODE_ENV}</h2>\n      <h2>URL: {endpoint}</h2>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function UserInfo(props) {\n  const info = props.userInfo;\n\n  return (\n    <div>\n      <h1>Hi, {info.givenName}!</h1>\n      {/* <img src={info.imageUrl} alt={info.name} /> */}\n    </div>\n  );\n}\n","import React from 'react';\nimport UserInfo from '../userInfo';\nimport { useSelector } from 'react-redux';\n\nexport default function UserPage() {\n  const userInfo = useSelector(s => s.userInfo);\n  return <UserInfo userInfo={userInfo}></UserInfo>;\n}\n","import React from 'react';\nimport UserPage from './userPage';\nimport { Link } from 'react-router-dom';\n\nexport default function MainPage() {\n  return (\n    <div>\n      <UserPage></UserPage>\n      <Link to=\"/new\">Start a New Game</Link>\n      or\n      <Link to=\"/join\">Join a Game</Link>\n    </div>\n  );\n}\n","import React from 'react';\nimport useEmitter from '../../hooks/useEmitter';\nimport { useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nexport default function StartGamePage() {\n  const emitStartGame = useEmitter('startNewGame');\n  const gameId = useSelector(s => s.gameId);\n  const countdown = useSelector(s => s.countdown);\n\n  useEffect(() => emitStartGame(), []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return countdown ? (\n    <Redirect to=\"/cd\"></Redirect>\n  ) : gameId ? (\n    <div>\n      Your game id is:<h1>{gameId}</h1>\n    </div>\n  ) : (\n    <h1>Starting...</h1>\n  );\n}\n","import React, { useEffect } from 'react';\nimport './App.scss';\nimport io from 'socket.io-client';\nimport { checkToken } from './actions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport useSocketSetup from './hooks/useSocketSetup';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\nimport NavBar from './components/navBar';\nimport CountdownPage from './components/pages/countdownPage';\nimport GamePage from './components/pages/gamePage';\nimport JoinGamePage from './components/pages/joinGamePage';\nimport LoginPage from './components/pages/loginPage';\nimport MainPage from './components/pages/mainPage';\nimport NewGamePage from './components/pages/startGamePage';\n\nexport default function App() {\n  const endpoint = useSelector(s => s.endpoint);\n  const dispatch = useDispatch();\n  const token = useSelector(s => s.token);\n  const initSocket = useSocketSetup();\n\n  useEffect(() => {\n    dispatch(checkToken());\n    if (token) {\n      const socket = io.connect(endpoint, {\n        query: `token=${token}`, // why no Bearer work?  ¯\\_(ツ)_/¯\n      });\n\n      socket\n        .on('connect', () => {\n          initSocket(socket);\n        })\n        .on('unauthorized', msg => {\n          console.log(`unauthorized: ${JSON.stringify(msg.data)}`);\n          throw new Error(msg.data.type);\n        });\n    }\n  }, [token]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Router>\n      <NavBar></NavBar>\n      <div className=\"content\">\n        <Switch>\n          <Route exact path=\"/login\">\n            <LoginPage></LoginPage>\n          </Route>\n          <AuthRoute exact path=\"/\">\n            <MainPage></MainPage>\n          </AuthRoute>\n          <AuthRoute exact path=\"/new\">\n            <NewGamePage></NewGamePage>\n          </AuthRoute>\n          <AuthRoute exact path=\"/join\">\n            <JoinGamePage></JoinGamePage>\n          </AuthRoute>\n          <AuthRoute exact path=\"/cd\">\n            <CountdownPage></CountdownPage>\n          </AuthRoute>\n          <AuthRoute exact path=\"/game\">\n            <GamePage></GamePage>\n          </AuthRoute>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nfunction AuthRoute({ children, ...rest }) {\n  const loggedIn = !!useSelector(s => s.userInfo);\n\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        loggedIn ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/login',\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n","import { createStore } from 'redux';\n// NB: I am committing a sin by setting the token in localStorage in my reducers.\n\nconst tokenKey = '_t';\nconst defaultStore = {\n  appId:\n    '730966416306-dv0e9pb4m0k6khl2nrn5r9vskv2j8hmk.apps.googleusercontent.com',\n  countdown: undefined,\n  endpoint:\n    process.env.NODE_ENV === 'production'\n      ? 'https://converge-game-be.herokuapp.com/'\n      : 'http://localhost:8000',\n  gameId: undefined,\n  loggedIn: false,\n  socket: undefined,\n  token: undefined,\n  userInfo: undefined,\n};\n\nfunction reducer(state = defaultStore, action) {\n  switch (action.type) {\n    case 'CHECK_TOKEN':\n      const localToken = localStorage.getItem(tokenKey);\n      return { ...state, token: localToken };\n    case 'SET_USER_INFO':\n      return { ...state, userInfo: action.payload, loggedIn: true };\n    case 'SET_SOCKET':\n      return { ...state, socket: action.payload };\n    case 'LOG_IN':\n      const { token, userInfo } = action.payload;\n      localStorage.setItem(tokenKey, token);\n      return { ...state, userInfo, token, loggedIn: true };\n    case 'LOG_OUT':\n      localStorage.setItem(tokenKey, '');\n      state.socket.disconnect(true);\n      return {\n        ...state,\n        loggedIn: false,\n        token: undefined,\n        userInfo: undefined,\n      };\n    case 'SET_GAME_ID':\n      return { ...state, gameId: action.payload };\n    case 'SET_COUNTDOWN':\n      return { ...state, countdown: action.payload };\n    case 'CLEAR_COUNTDOWN':\n      return { ...state, countdown: undefined };\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(reducer, defaultStore);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { store } from './redux-store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App className=\"app\" />\n  </Provider>,\n  document.getElementById('root')\n);\n\nconsole.log(`ENV: ${process.env.NODE_ENV}`)","import { setSocket } from '../actions';\nimport { useDispatch } from 'react-redux';\nimport { setGameId, setCountdown } from '../actions';\n\nexport default function useSocketSetup() {\n  const dispatch = useDispatch();\n  return socket => {\n    socket.on('info', message => console.info(`INFO: ${message}`));\n    socket.on('newGameCreated', data => dispatch(setGameId(data.gameId)));\n    socket.on('startCountdown', count => dispatch(setCountdown(count)));\n    socket.on('startGame', msg => console.log(msg));\n    dispatch(setSocket(socket));\n  };\n}\n"],"sourceRoot":""}